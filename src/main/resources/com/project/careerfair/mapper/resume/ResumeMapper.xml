<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.careerfair.mapper.resume.ResumeMapper.java">

    <resultMap id="resumeMap" type="com.project.careerfair.domain.Resume">

    </resultMap>

    <!-- 빈 이력서 등록 -->
    <insert id="createEmptyResume" useGeneratedKeys="true" keyProperty="resumeId">
        INSERT INTO TB_ONLINE_RESUME(member_id)
        VALUES (#{memberId})
    </insert>

    <insert id="insertCareerByResumeId" useGeneratedKeys="true" keyProperty="resumeId">
        INSERT INTO TB_CAREER
        (
            resume_id,
            company_name,
            entry_date,
            resignation_date,
            description,
            position,
            etc
        )
        VALUES
        (
            #{resumeId},
            #{companyName},
            #{entryDate},
            #{resignationDate},
            #{task},
            #{position},
            #{description}
        )
    </insert>

    <insert id="insertEducationByResumeId" useGeneratedKeys="true" keyProperty="resumeId">
        INSERT INTO TB_EDUCATION
        (
            resume_id,
<!--            education_type,-->
            school_name,
            entry_date,
            graduation_date,
            major,
            status
        )
        VALUES
        (
            #{resumeId},
<!--            #{educationType},-->
            #{schoolName},
            #{entryDate},
            #{graduationDate},
            #{major},
            #{status}
        )
    </insert>



</mapper>